## VirtualBox を使って Windows 11 仮想マシンを動かす方法
tag: .NET 初心者向け 新人教育 Windows11

この記事は [Win11 への VirtualBox のインストール](https://qiita.com/mmake/items/f62da4ed17ed6b0e5195) の続きの内容になります。
この記事では 18 歳の新入社員向けに VirtualBox を使って Windows 11 の仮想マシンを動かす方法を説明します。

### 前回のおさらい
「VirtualBox」は無料の仮想マシン実行環境です。VirtualBox を使うとさまざまなオペレーティングシステムを仮想マシンとして実行できます。

ここでは VirtualBox バージョン 7.0.10 上で Windows 11 仮想マシンを動かす方法を説明します。

## Windows 11 のシステム要件
VirtualBox で Windows 11 仮想マシンを快適に動かすには以下のシステムが必要です

- プロセッサ: 1 ギガヘルツ (GHz) 以上で 4 コア以上の64 ビットプロセッサ
- メモリ: 4 GB　以上の空き容量
- ストレージ: 100 GB 以上の空き容量
- トラステッド プラットフォーム モジュール (TPM):  バージョン 2.0

::: note warn
ホストの Windows 11 の「仮想マシンプラットフォーム」機能が有効になっていると、ゲストの Windows 11 のインストールに失敗します。「仮想マシンプラットフォーム」機能は無効化してください。
:::

![](093.png)


## Windows 11 インストールメディアの入手
### Windows 11 メディアのサイトにアクセス
Windows 11 のサイトにアクセスします。

[https://www.microsoft.com/ja-jp/software-download/windows11](https://www.microsoft.com/ja-jp/software-download/windows11)

ページの下にスクロールし「Windows 11 ディスクイメージ(ISO)をダウンロードする」が表示されたら、「**ダウンロードを選択▽**」をクリックします。

![](11_officialsite.png)

### OS の選択
ダウンロードのリストが表示されたら、「**Windows 11 (multi edition ISO)**」をクリックします。

![](13_officialsite.png)

### OS の確認
OS が Windows 11 (multi edition ISO) に変わったら、「**ダウンロード**」をクリックします

![](15_officialsite.png)

### 製品の言語の選択
言語の選択が表示されたら、「**１つ選択▽**」をクリックします。

![](21_officialsite.png)

### 言語の選択
言語のリストが表示されたら、「**日本語**」をクリックします。

![](23_officialsite.png)

### 言語の確認
言語が日本語に変わったら、「**確認**」をクリックします

![](25_officialsite.png)

### ISO のダウンロード
Windows 11 日本語が表示されたら、「**64-bit ダウンロード**」をクリックします。ダウンロードが始まります。

![](31_officialsite.png)

## 仮想マシンの作成
### VirtualBox の起動
スタートメニューから「**Oracle VM VirtualBox**」をクリックします。

![](213.png)

### 新しい仮想マシンの作成
VirtualBox が起動したら、メニューから 「**仮想マシン**」>「**新規**」の順にクリックします。

![](215.png)

### 名前の設定
仮想マシンの作成画面が表示されたら、仮想マシンの名前を作成します。ここでは例として「**Win11**」という名前を設定します。

:::note
仮想マシンの名前は2文字以上必要です。アルファベット、数字、"-", "." が利用できます。
:::

![](221.png)

### ISO イメージの選択
ISOイメージの **▽ボタン** をクリックし、「**その他**」をクリックします。

![](225.png)

### ISO イメージの選択
先ほどダウンロードした ISO ファイルを選択し、「**開く**」をクリックします。

![](227.png)

### エディションの選択
エディションの **▽ボタン** をクリックし、「**Windows 11 Pro**」をクリックします。

![](231.png)

### 設定の完了
「**完了**」ボタンをクリックします。

![](233.png)

### 仮想マシンの起動
自動的に仮想マシンが起動します。

![](241.png)

### キーを押す
画面に **「Press any key to boot from CD or DVD」** が表示されたら、キーボードの適当なキーを押します。

![](313.png)

### Windows の自動インストール
VirualBox 7.0 は自動インストール機能（Unattended installation）をサポートしています。Windows 8, 10, 11 はインストール作業が自動的に進みます。アカウント名やパスワードは以下の設定になります。

|項目|内容|
|---|---|
|ユーサー名|vboxuser|
|パスワード|changeme|
|プロダクトキー|なし（ライセンス認証なし）|
|ホスト名|Win11(仮想マシンの名前)|
|ドメイン名|myguest.virtualbox.org|

![](321.png)

### インストールの完了
Windows のデスクトップ画面が表示されたら、インストール完了です。

![](325.png)

## Guest Additions のインストール
VirtualBox Guest Additions はゲスト OS の性能や操作性を向上させるためのソフトウェアパッケージです。引き続き Guest Additions をインストールします。

### CD イメージの挿入
VirtualBox のメニューから 「**デバイス**」>「**Gust Additions CD イメージの挿入**」の順にクリックします。

![](413.png)

### インストーラの起動
Windows のエクスプローラを開き、**D:\VBoxWindowsAdditions** のファイルをダブルクリックします。

![](421.png)

### ユーザーアカウント制御の確認
ユーザーアカウント制御が表示されたら、「**はい**」をクリックします。

![](431.png)

### セットアップ画面の確認
セットアップ画面が表示されたら、「**Next**」をクリックします

![](433.png)

### インストール先の選択
インストール先の選択画面が表示されたら、「**Next**」をクリックします

![](435.png)

### インストールする機能の確認
インストールする機能の選択画面が表示されたら、「**Install**」をクリックします。

![](437.png)

### 仮想マシンの再起動
インストール完了画面が表示されたら、「**Finish**」をクリックします。

![](441.png)

### インストールの完了
仮想マシンが再起動したら、インストール完了です

![](445.png)

## 便利な設定
### クリップボードの共有
VirtualBox のメニューから 「**デバイス**」>「**クリップボードの共有**」>「**双方向**」の順にクリックします。

![](461.png)

### ドラッグ＆ドロップの許可
VirtualBox のメニューから 「**デバイス**」>「**ドラッグ & ドロップ**」>「**双方向**」の順にクリックします。

![](471.png)

## スナップショットの作成
VirtualBox のスナップショット機能を使うと、ある時点の仮想マシンの状態を保存することができます。これにより、仮想マシンのトラブルが発生した場合に、以前の状態に簡単に戻すことができます。スナップショットの作成方法を説明します。

### 仮想マシンの停止
仮想マシンをシャットダウンします。

![](491.png)

### スナップショット画面
VirtualBox のメニューから 「**仮想マシン**」>「**ツール**」>「**スナップショット**」の順にクリックします。

![](515.png)

### スナップショットの作成
スナップショットの画面が表示されたら、メニューから 「**スナップショット**」>「**作成**」の順にクリックします。

![](519.png)

### スナップショットの名前の確認
スナップショットの詳細入力が表示されたら、「**OK**」をクリックします。

![](521.png)

### スナップショットの完了
右側にスナップショットの名前が表示されたら、作成完了です。

![](523.png)

## まとめ
この記事では以下の内容を説明しました。
- Windows インストールメディアの入手
- VirtualBox 仮想マシンの作成
- 便利なツールのインストール
- スナップショットの作成

## 参考文献
- VirtualBox User Manual for Release 7.0 > Configuring Virtual Machines
https://docs.oracle.com/en/virtualization/virtualbox/7.0/user/BasicConcepts.html
